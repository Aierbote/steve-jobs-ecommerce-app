(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{6840:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(5143)}])},9882:function(t,e,n){"use strict";n.d(e,{H:function(){return r},I:function(){return i}});var a=n(5893),u=n(7294);let i=(0,u.createContext)({cart:[],paid:!1,products:null,addToCart:()=>{},removeFromCart:()=>{},removeTheseFromCart:()=>{},pay:()=>{},done:()=>{},getProductQuantity:()=>0,loading:!1,error:"",counterInCart:0,total:0,getProduct:async()=>{},detailProduct:{}});function r(t){let{children:e}=t,[n,r]=(0,u.useState)([]),[o,c]=(0,u.useState)(!1),[d,s]=(0,u.useState)(null),[l,p]=(0,u.useState)(!1),[f,y]=(0,u.useState)(""),[h,m]=(0,u.useState)(0),[v,_]=(0,u.useState)(0),[w,C]=(0,u.useState)(null),q=async t=>{try{let e=await fetch("https://mockend.up.railway.app/api/products/".concat(t)),n=await e.json();C(n)}catch(t){y(t.message)}},S=async()=>{p(!0);try{let t=await fetch("https://mockend.up.railway.app/api/products"),e=await t.json();s(e),p(!1)}catch(t){y(t.message),p(!1)}};return(0,u.useEffect)(()=>{S()},[]),(0,a.jsx)(i.Provider,{value:{cart:n,paid:o,products:d,addToCart:t=>{m(h+1),n.find(e=>e.id===t)?r(n.map(e=>e.id!==t?e:{id:e.id,quantity:e.quantity+1})):r([...n,{id:t,quantity:1}]),_(v+(null==d?void 0:d.find(e=>e.id===t)).price)},removeFromCart:t=>{m(h-1),r(n.reduce((e,n)=>(n.id===t?n.quantity>1&&e.push({id:n.id,quantity:n.quantity-1}):e.push(n),e),[])),_(v-(null==d?void 0:d.find(e=>e.id===t)).price)},removeTheseFromCart:t=>{r(n.filter(e=>e.id!==t||(_(v-(null==d?void 0:d.find(e=>e.id===t)).price*e.quantity),m(h-e.quantity),!1)))},getProductQuantity:t=>0,pay:()=>{c(!0),r([])},loading:l,error:f,done:()=>{c(!1),m(0),_(0)},counterInCart:h,total:v,getProduct:q,detailProduct:w},children:e})}},5143:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return i}});var a=n(5893);n(9166);var u=n(9882);function i(t){let{Component:e,pageProps:n}=t;return(0,a.jsx)(u.H,{children:(0,a.jsx)(e,{...n})})}},9166:function(){}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[774,179],function(){return e(6840),e(3035)}),_N_E=t.O()}]);